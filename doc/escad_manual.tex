%% Editiert mit emacs (set-keyboard-coding-system 'utf-8)
%% Emacs-modes: latex-mode, outline-minor-mode
%% Emacs-commands: M-x outline-toggle-children
%% M-x pdf-tools-install
%% M-x customize apropos TeX-source-correlate-method -> synctex
%% M-x TeX-source-correlate-mode
\documentclass[a4paper, 12pt, openany]{scrbook}
\usepackage[T1]{fontenc}  % grafische Darstellung der Zeichen
\usepackage{lmodern,textcomp} % Euro
\usepackage[utf8]{inputenc}  % Umlaute direkt eingeben (ohne \"a)
% \usepackage[ngerman]{babel}  % neue Rechtschreibung für automatisch erzeugte Dokumentelemente
\usepackage[UKenglish]{babel}  % english for toc...
\usepackage[paper=a4paper, left=2cm, top=20mm, bottom=15mm, right=15mm, includefoot, foot=\baselineskip, footskip=10mm]{geometry}  %für Raender
\usepackage[headsepline,footsepline]{scrpage2}  % für Header
\usepackage{longtable}
\usepackage[table]{xcolor}
\usepackage{amsmath}
%\usepackage{polynom} % Ausführung und Darstellung von Polynomdivision
\usepackage{rotating} % Dinge rotieren
\DeclareMathOperator\sign{sign}
\usepackage{listings}
\usepackage[autostyle]{csquotes} % Anführungszeichen mit \enquote{Anführungszeichen}
%\usepackage{tikz-timing}[2009/05/15]
%\lstset{basicstyle=\scriptsize} 
\lstset{basicstyle=\footnotesize\ttfamily, numbers=left, numberstyle=\tiny\color{blue}, frame=single, firstnumber=1, keywordstyle=\color{blue}}
%\lstset{basicstyle=\small} 
\lstset{literate=%
    {Ö}{{\"O}}1
    {Ä}{{\"A}}1
    {Ü}{{\"U}}1
    {ß}{{\ss}}1
    {ü}{{\"u}}1
    {ä}{{\"a}}1
    {ö}{{\"o}}1
    {~}{{\textasciitilde}}1
    {°}{{\textdegree}}1
}
\usepackage{upgreek} % für aufrechtes pi im mathe-modus
\usepackage[locale=DE,per=frac]{siunitx}
\usepackage{amssymb} %für Mathesymbole wie Menge der natürlichen Zahlen
%\usepackage{color} % farbiger Texthintergrund
\usepackage{xcolor} % Textfarbe
%\usepackage{pdfpages}
%\usepackage[abs]{overpic}
%\usepackage{lastpage} % für gesamtseitenzahl
\usepackage{tikz} % für grafikzeichnen
\usepackage{pgfplots}
\usetikzlibrary{matrix, positioning, shapes}
\usetikzlibrary{arrows, automata, shadows, patterns}
% \usepackage{circuitikz} % für Schaltpläne
\usepackage{index}
\makeindex
\pagestyle{scrheadings}

\clearscrheadings
\clearscrheadfoot
\newcommand{\MyVorname}{Markus}
\newcommand{\MyNachname}{Kollmar}
\newcommand{\MyTitel}{ESCAD MANUAL}
\newcommand{\MyDate}{\today}
\ohead{page: \pagemark}
%\chead{Lösung}
\ihead{\MyTitel}
\ofoot{\MyVorname\, \MyNachname}
%\cfoot{}
\ifoot{\MyDate}

\usepackage[pdftex,
            pdfauthor={Markus Kollmar},
            pdftitle={\MyTitel},
            pdfsubject={\MyTitel},
            pdfkeywords={manual},
%            pdfproducer={Latex with hyperref},
%            pdfcreator={pdflatex}
]{hyperref}  % Metadaten in PDF

\author{\MyVorname \quad \MyNachname}
\title{\MyTitel}


\input{kvmacros}

%% command-reference function {cmd-name}{input}{output}{description}:
\newcommand{\escadcmd}[4]{\index{command reference!#1}
  \colorbox{black!20}{\parbox[c][1em]{160mm}{\texttt{#2}}}\\
  \colorbox{green!20}{\parbox[c][1em]{160mm}{\texttt{#3}}}\\#4}

%% shell command-line {cmd-name}{result}:
\newcommand{\shellcmdline}[2]{\\
  \setlength{\fboxsep}{2pt}\colorbox{black!20}{\parbox{\textwidth}{\texttt{user@host:$\sim$/escad\$ \textbf{#1}\\#2}}}\\}

%% escad command-line {cmd-name}{result}:
\newcommand{\escadcmdline}[2]{\\\setlength{\fboxsep}{2pt}\colorbox{black!20}{\parbox{\textwidth}{\texttt{ESCAD> \textbf{#1}\\#2}}}\\}

%% lisp command-line {cmd-name}{result}:
\newcommand{\lispcmdline}[2]{\\\setlength{\fboxsep}{2pt}\colorbox{black!20}{\parbox{\textwidth}{\texttt{> \textbf{#1}\\#2}}}\\}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{titlepage}
   \begin{center}

     %\vspace*{1cm}
     
     {\huge \MyTitel \ - \MyDate}

     \vspace{0.5cm}

     {\small by:\ \MyVorname\ \MyNachname}

     \vspace{0.5cm}
     
     \begin{tikzpicture}
       \coordinate(front)at(0,0);
       \coordinate(horizon)at(0,.41\paperheight);
       \coordinate(bottom)at(0,-.6\paperheight);
       \coordinate(sky)at(0,.47\paperheight);
       \coordinate(left)at(-.41\paperwidth,0);
       \coordinate(right)at(.41\paperwidth,0);
       \shade[bottom color=white,top color=blue!40!black!50]([yshift=-120mm]horizon-|left)rectangle(sky-|right);
       \node[circle, fill=orange!30] (user) at (0,12) {USER};
       \node[circle, fill=green!20] (escad) at (0,0) {ESCAD};
       \node[circle, fill=green!20] (world) at (-4,7) {WORLD};
       \node[circle, fill=green!20] (view) at (3,5) {VIEW};
       %\draw [thin, gray,-latex] (escad) -- (user);
       \draw [gray] (escad) to [out=50,in=195] (user);
       \draw [red] (escad) to [out=-120,in=165] (world);
       \draw [yellow] (escad) to [out=-60,in=20,looseness=2.2] (view);

       \draw [blue!60] (user) to [out=0,in=20,looseness=2.2] (view);
       \draw [green!60] (user) to [out=140,in=100] (world);
       \draw [red!60] (world) to [out=0,in=100] (view);
     \end{tikzpicture}

     
     \vfill
            
      Alles hängt mit allem zusammen. Wir haben nur nicht das ganze Bild...
            
       \vspace{0.8cm}

     \end{center}
\end{titlepage}


%\maketitle
%\pagebreak
%\cleardoublepage
\tableofcontents
%\pagebreak

\chapter{Introduction}
First of all i have have to apologize that escad and this manual is not in a mature state. There is much to develop and to do. But i think it is better to regularly update the system than work some month and there is no regularly progress visible.
\section{Philosophy}
History tells us about separation. Separation between different professions was and is common. People have different interests and different knowledge. So this seems natural. Is this a problem? No. And yes. Nowadays science goes into a direction where \textbf{interdisciplinarity} seems more useful. The bounds of our disciplines are drawn by human but it not need to reflect the reality in nature. Real problems are mostly system-problems. Systems are combined of different disciplines. But do the (software) tools support this fact? Some may but many do not. This seems not a big problem in many cases. But when it comes to documentation or knowledge transfer tasks, this can be a big problem. The tools often do not interact with each other, and if so they often feel not integrated well. This problem increases when different manufacturers have tools which interact not or very bad.

Living in todays world is getting more and more complex. There are laws made by human which you have to obey. Additionally mother nature has their ever-lasting rules, overwriting all human rules, and which we should obey to keep the environment healthy for future mankind. Thus people may have the need to get information about this \index{complexity}\textbf{complex} system and tools to make this understandable. Escad is really not good in some things. It is no universal software. In fact it is really not yet a good graph analysis tool (however one could update that functionality). Escad wants to be a (relatively simple) worker which also allows combining of different domains in one model: get something out of your semantic-graph-model, make PDF, 3D models, music or other documents, which would be boring to create by hand. You can additionally also use the \textbf{scripting} facility of escad.
\section{State}
Currently escad is in (wild) development. This means there are many ideas which should be developed. Some are just a quick hack to show what is possible and some are more detailed. However but only usable for experts in some areas. Many things are not completed. This is often to just give the idea what should come and is intended to be completed later if the system interacts satisfactorial as a whole.
Future plans are (among many other things not mentioned):
\begin{itemize}
\item Increase domain functionality with practic use.
\item Create good and clear documentation with examples.
\item Make a good graphical user interface in browser via REST-interface.
\end{itemize}
Escad use open interfaces and provide a wide variety of different domain tools. And if there is (yet) not the thing you need, you can customize Escad with common-lisp code. Escad wants to be kind and helpful to the user. \textbf{Your help is really welcome}: if you want maintain this manual, increase escad features, write expansions, create logo, manage homepage or just send some feedback - all things are kind to start a escad-community. Currently the best way to use escad is the terminal, or use the emacs editor, like in figure~\ref{fig:escad_emacs} where you can directly type in escad-lisp commands.
\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[node distance=0.6cm and 1cm]
    \node[anchor=south west] (escad_emacs) at (0cm,0cm) {\includegraphics*[scale=0.35]{escad_emacs.png}};
  \end{tikzpicture}
  \caption{escad in emacs.}
  \label{fig:escad_emacs}
\end{figure}
\section{License}
Escad strictly wants to be open source, for more see file \path{LICENSE} in your escad root-directory.
\section{Installation}
Currently there are no preconfigured packages for convenient installation of escad. However installation should not be to difficult, since escad-development tries to minimize not shipped dependencies.
\subsection{Linux or other unix-like systems}
\begin{enumerate}
\item Copy the escad root-directory from \path{https://github.com/mkollmar/escad} with all files (leave them in the given structure) to a place (e.g. your home-directory) or clone this github-repository with \textbf{git}.
\item You should have/install \textbf{GNU CLISP} or \textbf{sbcl} common-lisp implementation (other implementations currently probably not work) preferably with your distribution-package-manager.
\item As shell \textbf{bash} is recommended.
\item For REST-server you should have or install \textbf{node} and \textbf{npm}. Then in the escad root-directory you should try to install the needed node-modules (\texttt{npm install --production}).
\item For some PNG/SVG export you need to have/install \textbf{graphviz} (not needed for basic escad usage).
\item For PDF exports you need to have/install a \textbf{latex} installation with \textbf{pdflatex} (not needed for basic escad usage).
\item For TK graphical interface you need to have/install a \textbf{TCL/TK} installation (not needed for basic escad usage).
\item Check the user-config section at the beginning of \path{escad.lisp} and edit if necessary.
\item Check the config section at the beginning of shell-script \path{escad} and edit if necessary.
\item You can now try to run escad (in terminal-mode) within the escad-root-directory by typing \texttt{./escad start}.
\end{enumerate}
\subsection{Windows}
This system is currently not tested, but may be possible (e.g. with WSL).
\section{Theory}
To understand a software-system it is often easier to understand the theory behind. In escad this is quite simple, since it is practical use of graphs (in informatically or mathematically means). \textbf{Graphs} consist only of \textbf{symbols} $V$ (vertices, nodes, Knoten) and \textbf{relations} $E$ (edges, Kanten). See figure~\ref{fig:overview} about the structure of escad.
\begin{figure}[htbp]
  \centering
  \tikzset{ sym/.style={circle, shading=ball, ball color=green!40, minimum size=6mm} }
  \begin{tikzpicture}[node distance=0.6cm and 1cm]
    \node[sym] (s0) {s0};
    \node[sym] (s1) [below left=of s0] {s1};
    \node[sym] (s2) [left=of s1] {s2};
    \node[sym] (s3) [left=of s2] {s3};
    \draw[->] (s0) -- (s1) node [pos=0.5, below] {r0};
    \draw[->] (s1) -- (s2) node [midway, below] {r1};
    \draw[->,out=-100,in=200,looseness=2] (s2) to node[above,pos=0.5] {r2} (s3);
    \draw[->] (s3) -- (s2) node [pos=0.5, below] {r3};
    \draw[draw=black] (1,1) rectangle ++(-8,-4);
    \node[] (view) [above=of s2] {view};
    \draw[draw=black] (2,1) rectangle ++(3,-4);
    \node[] at (3.5,0) {taxonomy};
    \node[] at (3.5,-0.5) {(+ontology)};
    \draw[draw=black] (6,1) rectangle ++(3,-4);
    \node[] at (7.5,0) {expansion};
    \node[] at (8.5,-2) {$\dots$};
    \draw[draw=black] (6,-1) rectangle ++(1,-2);
    \node[rotate=90] at (6.5,-2) {domain A};
    \draw[draw=black] (7,-1) rectangle ++(1,-2);
    \node[rotate=90] at (7.5,-2) {domain B};
    \draw[<->,blue] (-3,-4) -- (-3,-3) node [pos=0.5] {};
    \draw[<->,blue] (3.5,-4) -- (3.5,-3) node [pos=0.5] {};
    \draw[<->,blue] (7.5,-4) -- (7.5,-3) node [pos=0.5] {};
    \draw[<->,blue] (1,0) -- (2,0) node [pos=0.5] {}; % view -tax
    \draw[<->,blue] (5,0) -- (6,0) node [pos=0.5] {}; % tax - exp
    \draw[draw=black] (-7,-4) rectangle ++(16,-1);
    \node[] at (1,-4.5) {escad-lisp};
    \draw[draw=black] (-3,-5) rectangle ++(12,-1);
    \node[] at (3,-5.5) {escad-socket (TCP)};
    \draw[draw=black] (1,-6) rectangle ++(8,-1);
    \node[] at (5,-6.5) {escad-REST};
\end{tikzpicture}
  \caption{Overview of basic escad structure.}
  \label{fig:overview}
\end{figure}
Whenever needed you can add classification info (taxonomy) or functionality (expansion). Mathematically (see also \cite{math:taschenbuch_der_mathematik}) you can see this in equations~\ref{eq:graph}:
\begin{align}
  \label{eq:graph}
  V & = \{s0, s1, s2, s3\} \notag \\
  E & = \{r0, r1, r2, r3\} = \{(s0, s1), (s1, s2), (s2, s3), (s3, s2)\}
\end{align}
You see in math you would need no name for relations, as it are ordered pairs of symbols. Escad wants names for symbols and relations. This is because relations can have some optional properties (symbols too), which you can acess via the relation-name. As convenience you can let escad give you automatic generated names, in case you do not care of the exact name.

You can communicate with escad through common-lisp. This communication can also piped through a local TCP-connection. The REST-API uses this method too. Note that for security reasons you should not make such network-communications over the internet, since escad is not encrypted. However you could use technics like VPN if you want such behaviour.
\subsection{Symbol}
In many papers symbols are also called \index{node}node. However escad has the aim to model things into software. Thus a node is a \emph{variable} for something in our thoughts. A symbol can represent a house, a number, a theory, a joke or whatever you want. This shows the great flexibility of escad. In figure~\ref{fig:overview} symbols are circles with names in it (e.g. s0) which you can name however you want as long it is a unique name in the current graph. In case you do not care, escad can generate a unique name for you.
\subsection{Relation}
Relation or in computer science called \index{edge}edge creates relations between symbols.
\subsection{Taxonomy}
With taxonomy you can create in escad a classified specific (domain-based) meaning to your symbols and relations. Depending of the taxonomy there may result different (graphical) output or behaviour (functionality). This may sound clear at first, since without that a computer can not know what a symbol means just by interpreting its name.

However in semantic-knowledge field you may hear often words like \index{ontology}ontology. Strictly spoken a taxonomy is merely a classification of things and terms. Ontology \emph{uses} the taxonomy to capture and represent the meaning of a domain. Since escad is aimed to be a practical tool, it has some domain specific ontologie-knowledge included. This is done by the developers of a escad expansion and you may only effect it with some attributes. If you need a special ontologie you have to search for a expansion that fullfills it, or you have to build your own expansion.
\subsection{Expansion}
Expansions are ordinary \emph{symbols} with a additional function, given by assigning a taxonomy and executed via activation of a symbol. Nowadays such easily achivable functionality may be called \index{app}\emph{apps}, who can do various things with your graph. This ranges from graphic output to new generated graph-elements. There are many possibilities and you can even write your own expansion(s). Those programms live in the escad environment and can use the provided feature, even of other expansions. However currently there is only a limited set of expansion, but this could increase in time. Feel free to write a expansion for your domain specific needs.
\chapter{Usage}
Here i assume it is easier to get what escad can do for you, by showing escad in work. Note that the output of the following examples may vary a little at your side (becausse of various reasons), but the basic things should be similar.
\section{Tutorial}
We want now do a short session in escad. After installation go to the escad root directory and start escad by typing in a shell in your terminal:
\shellcmdline{./escad start}{>}
This starts escad REPL (no special arguments given). After loading of common-lisp and escad, you should switch from the common-lisp in the escad namespace:
\lispcmdline{(in-package :escad)}{ESCAD>}
Now you can execute all escad commands directly. To see some possible existing symbols type following escad-command:
\escadcmdline{(ls)}{(``\_escad'' ``\_view'')}\label{ex:ls}\index{command example!ls}
You can read more about this command at page~\pageref{it:ls}. We see two symbols which escad has already created for us. The first symbol can contain settings for our current escad session. The second symbol stands for the current working space we are working. In escad this is called \emph{view} and is just a place where you can work. It can hold graph(s), but does not have to. Escad has two views, you can use (toggle with command \texttt{tv}). But mostly you need just one view.
However we heard that escad has symbols and relations. Lets look at the relations:
\escadcmdline{(lr)}{NIL}\label{ex:lr}\index{command example!lr}
Upps, we get \emph{NIL} which is the lisp way of saying that there is nothing. But that is ok, since we just have not created anything yet. So lets create three symbols:
\escadcmdline{(dolist (name '(``one'' ``two'' nil)) (ns name))}{NIL}\label{ex:ns}\index{command example!ns}
This produces three new symbols, which names we not see because of the \texttt{dolist} nature:
\escadcmdline{(ls)}{(``\_escad'' ``\_view'' ``one'' ``two'' ``s0'')}\index{command example!ls}
The third symbol name \texttt{s0} created escad for us, because we provided \texttt{nil}.
Now lets create a relation:
\escadcmdline{(nr nil ``one'' ``two'')}{``r0''}\label{ex:nr}\index{command example!nr}
Now we got
\escadcmdline{(lr)}{(``r0'')}
Note that you can not insert a new relation or symbol which name already exists.
You now have nearly seen all basic operations in escad. Most functionality can be achieved by this. Instead of learning many new commands, you can use in escad symbols which can also represent actions (e.g. exporting a PDF of your view). But how can you execute such a symbol. This makes the command \emph{as}, which \emph{activates} the given symbol:
\escadcmdline{(as ``s0'')}{(``Documentation text...'')}
You can activate every symbol, but most of them will just print some documentation about themselves, like you have seen in the last command. To get another functionality you have to assign a taxonomy which refers to a expansion. Those expansion is then loaded and executes a defined command (which is defined by the taxonomy).
You can easily add taxonomy to a symbol with add a \emph{property}:
\escadcmdline{(s ``s0'' :taxonomy ``escad.symbol.\_escad.export.pdf'')}{(``s0'')}
If you would activate this smybol now, it would produce a pdf with graphic output of your current view. Because you gave no file-name it would generate some. To give a filename you can add a special attribute-property:
\escadcmdline{(asa ``s0'' '(``filename\_relative'' ``my\_file.pdf''))}{(``my\_file.pdf'')}
Now you should get those pdf-file.
This are the most basic commands you need to know in escad. To get detailed command info use command help:
\escadcmdline{(help-command 'cmd\_name)}{(``Documentation text of cmd\_name...'')}
To get basic help type:
\escadcmdline{(help)}{(``Documentation text...'')}
To list available taxonomies use command \texttt{(lta)}.
\section{User stories}
To get a fast idea how you should work with escad, please read this section carefully. It gives you general hints how to work, but uses usefull examples to make the theory more clear.
This section is divided in subsections. These come from the basic tasks you can do with escad. In short these are:
\begin{description}
\item[Modeling] is the way you describe escad your topic/task of interest. This is a very important task. If you model something, look at the given examples in the \path{examples} directory. Use the most approbiate taxonomy. Try to think carefully when give attributes! Attributes are meant merely as a data to give details to a symbol (mostly for a expansion-usage). In daily work escad supports you in this topic if you use expansions. Many expansions need a 
\item[Exporting] saves your view in a non-escad format. This is usefull for use your view in other programms.
\item[Importing] allows you to get a view stored in a non-escad format.
\item[Reporting] means to create/process a (new) representation/summary of your view. E.g. your view could be a description of a 3D-modell, and with reporting you could get a 3D-file in X3D-format. A report could also check your view for quality (e.g. if there would occur problems when activate a specific expansion).
\item[Generation] creates new symbols or relations automatically for you. This may be during
\item[Flow] allows you to automate things in escad without to know how to programm in lisp.
\end{description}
\subsection{Modelling}
Modelling semantic graphs is not a easy task. Of course you can make easily symbols and relations, but it heavily depends how you use them. In the past many semantic projects are died or got not very sucessfull used at a wide range. Barry Smith stated some reasons (\url{https://www.youtube.com/watch?v=p0buEjR3t8A}) like silo-syndrome, short-half-life-syndrome and reinvent-the-wheel-syndrome. Nowadays there is a sucessfull example in bioinformatic where to show how genes affect our biology (see BFO-ontology). However even with the best ontology you can have problems, if you not use it properly. To use it you should have a clear knowledge on what the terms mean and how to use.

Such problems may also occur with escad. To improve the situation, escad tries to have many examples for several domains and tasks. The aim is to have enough examples so that you have the possibility to adapt it easily to your needs. I believe it makes more sense to use semantics than to have endless discussions what is the ''correct'' taxonomy/ontology.
\subsection{Exporting}
In case you can not do some things in escad yet or other tools may do better, you can export your graph. You can export the view to:
\begin{description}
\item[graphviz-dot] is a file format for graphviz, which is powerful in graphically layout and drawing of graphs. Export with a expansion.
\item[SVG] is a vector graphic-format viewable through most modern webbrowsers.
\item[PDF] Export with a expansion.
\item[Mindmap] This creates mindmaps in SVG format. Very usefull to view in a browser and to make your graph visible.
\end{description}
\subsection{Importing}
Because interoperability is important in todays heterogenic software world, there should be a way to get graphs from other software.
\begin{description}
\item[graphviz-dot] Graphviz is powerful in graphically drawing of graphs. You can import those graphs with .dot extension. However only basic functionality of dot is currently supported. Import with a expansion.
\end{description}
\subsection{Reporting}
Reporting here means to get some basic statistically information about the graph. Additionally some expansions may allow you to dive deeper in the graph and provide some semantic informations too.
\begin{description}
\item[Creating (technical) documentation]
  Note: this is not working yet, because it is in development!
\end{description}
\subsection{Generation}
Escad can automatically generate symbols or relations.
\begin{description}
\item[lessons-learned] You model e.g. deseases and their dependencies. Then you can try to give symptom(s) and ask for possible cause-tracing.
\end{description}
\subsection{Flow}
Note: this is not working yet, because it is in development!
A flow is a graph wich models a process. You can use escad to create a process a user should go through (e.g. a question+answer quiz) or a automation which escad should do for you.
\begin{description}
\item[Standalone-HTML-javascript learning page generator] Note: this is not working yet, because it is in development! You can generate html-pages with integrated javascript functionality to train some excercises, e.g. language learning. It provides motivational intuitive training pages which you can easily generate without html or javascript knowledge. The user has to do excercises and gets result if anwer is correct or not.
\end{description}
\section{Questions}
Note: this is not working yet, because it is in development!
Sometimes questions lead to a fast recognition of a problem or help to understand things better. So lets start asking...
\subsection{Development}
\begin{description}
\item[Can i help develop escad?] Of course. Just contact the developer in github.
\end{description}
\subsection{Usage}
\begin{description}
\item[Is there a difference in the power of the different escad interfaces?] Yes. The most powerful is currently the command line interface. New commands appear first there. However this is no rule. The aim is to keep the functionality equal across the interfaces in a later step.
\item[Why you have choosen common-lisp as the language for escad?] That is a good question. Why not javascript or another more popular language? Well may i ask why not lisp? In fact lisp has a very easy synthax, looks very nice in source code ;-) and for many tasks you need not more than three nested parentheses.
\end{description}
\subsection{Other}
\begin{description}
\item[Is there support for other languages as english?]  No not currently. If you want contribute feel welcome.
\end{description}
\chapter{Reference}
Here you should find the full information to work with escad, such as available commands or interfaces. Also you should get some basic things in order to get the idea in how you can extend escad or help in development.
\section{Commandline LISP-REPL (currently recommended)}\label{sec:cmd_line}
The commandline currently provides the full functionality. This means you got a common-lisp REPL with escad-package loaded. This gives you the full power of common-lisp with the ability of the escad-commands to work with a simple graph environment. To get this commandline go to the escad root directory and start escad-commandline by typing in a shell in your terminal:
\shellcmdline{./escad start terminal}{>}
or because terminal-mode is the default you can also type:
\shellcmdline{./escad start}{>}
Without correct command arguments you get a usage message.
Now you can type in escad commands with a namespace-qualifier, in this case the help command (note the output is here ommitted):
\lispcmdline{(escad:help)}{...}
In order to omitting this namespace just type once:
\lispcmdline{(in-package :escad)}{ESCAD>}
Now you can type just (note the output is here ommitted):
\escadcmdline{(help)}{...}
\subsection{Abbreviations and data structures}
The following table~\ref{tab:cmd_abbreviatons} explains used symbols, abbreviations and the data-structures in the reference.
\begin{table}[htbp]
%\definecolor{light-gray}{gray}{0.9}
%\rowcolors{2}{light-gray}{black!20} % alternates color
\centering
\begin{tabular}{l|p{6cm}|p{6cm}}
  \textbf{pattern} & \textbf{description} & \textbf{example} \\
  \hline
  ATTR & attribute taxonomy string & \texttt{``escad.attribute.author''} \\
  \hline
  (ATTR STRING ...) & attribute taxonomy value list & \texttt{(``escad.attribute.author'' ``Author Name'')} \\
  \hline
  NIL & common lisp nil means not true/done & \texttt{NIL} \\
  \hline
  RN & relation name string & \texttt{``r0''} \\
  \hline
  SN & symbol name string & \texttt{``s0''} \\
  \hline
  STRING & string with unspecified or multiple semantic & \texttt{``a message string...''} \\
  \hline
  VN & view number & \texttt{0} \\
  \hline
  + & previous content can occur at least once or multiple times & \\
  \hline
  * & previous content can occur not or multiple times & \\
  \hline
  ... & previous pattern can be continued & \texttt{(0 1 2 ...)} \\
  \hline
  () & basic common-lisp list & \texttt{(1 ``Hello'')} \\
  \hline
  \lbrack\ \rbrack & optional argument(s) & \texttt{(cmd \lbrack\ \rbrack)} \\
  \hline
  \colorbox{black!20}{function argument} & function argument & \\
  \hline
  \colorbox{green!20}{function result} & function result, multiple values seperated by comma are possible & \\
  \hline
\end{tabular}
\caption{Explained abbreviations and symbols.}
\label{tab:cmd_abbreviatons}
\end{table}
\subsection{Commands}
Note that this list may not be complete yet. To get the most actual overview check the inline documentation.
\begin{description}% \item[$\to$]
\item[\parbox{8.5mm}{as}] \label{it:as} \escadcmd{as}{\lbrack\ SN \rbrack}{STRING}{<a>ctivate <s>ymbol in current view.
What happens depends on the taxonomy of the symbol. Many symbols print out a string as their contents.
Symbols which represent expansions will execute the configured function of the expansion.}
\item[\parbox{8.5mm}{asa}] \label{it:asa} \escadcmd{asa}{SN (ATTR STRING ...)+}{SN | NIL}{
<A>dd/edit <s>ymbol <a>ttributes depending of key. NIL if nothing is added.}
\item[\parbox{8.5mm}{gra}] \label{it:gra} \escadcmd{gra}{RN attribute-string}{STRING}{<G>et <r>elation <a>ttributes depending of given attribute-string.}
\item[\parbox{8.5mm}{gsa}] \label{it:gsa} \escadcmd{gsa}{SN attribute-string}{STRING}{<G>et <s>ymbol <a>ttributes depending of given attribute-string.}
\item[\parbox{8.5mm}{help}] \label{it:help} \escadcmd{help}{}{STRING}{Print <help>ful overview of escad, meaning of terms and all available commands.}
\item[\parbox{8.5mm}{lr}] \label{it:lr} \escadcmd{lr}{\lbrack\ :filter :exclude-taxonomy \rbrack}{(RN*)}{<L>ist all <r>elations in current schematic which name match the filter. Additionally exclude relations which match the exclude-taxonomy.}
\item[\parbox{8.5mm}{ls}] \label{it:ls} \escadcmd{ls}{\lbrack\ :filter :exclude-taxonomy \rbrack}{(SN*)}{<L>ist all <s>ymbols in current schematic which name match the filter. Additionally exclude symbols which match the exclude-taxonomy.} See example at page~\pageref{ex:ls} for usage.
\item[\parbox{8.5mm}{nr}] \label{it:nr} \escadcmd{nr}{RN | nil SN SN \lbrack\ :attributes :comment :taxonomy :weight \rbrack}{RN | nil}{Create <n>ew <r>elation with given name and possible additional values in view. If the relation-name already exists do nothing and return nil. Default type is undirected relation. To make a directed or bidirected relation, set the appropriate taxonomy (note that ref\_from and ref\_to are only technical terms meaning you first tie the relation from that symbol to another. it can mean that is directe, but it is not guaranted that the author means that unless he makes that explicit with a relation that declares that).}
\item[\parbox{8.5mm}{ns}] \label{it:ns} \escadcmd{ns}{SN | nil \lbrack\ :attributes :comment :taxonomy :weight \rbrack}{SN | nil}{Create <n>ew <s>ymbol with given name and possible additional values in view. If the symbol-name already exists do nothing and return nil.}
\item[\parbox{8.5mm}{r}] \label{it:r} \escadcmd{r}{RN \lbrack\ :comment :ref\_from :ref\_to :taxonomy :weight \rbrack}{RO | nil}{Get/set <r>elation object.}
\item[\parbox{8.5mm}{s}] \label{it:s} \escadcmd{s}{SN \lbrack\ :comment :taxonomy :weight \rbrack}{SO | nil}{Get/set <s>ymbol object.}
\item[\parbox{8.5mm}{tv}] \label{it:tv} \escadcmd{tv}{}{VN}{<T>oggle <v>iew since escad has two views change from the one to the other and gives back the number of the new view (0 or 1).}
\item[\parbox{8.5mm}{vs}] \label{it:vs} \escadcmd{vs}{}{(VN SC1 RC1 SC2 RC2)}{Gives <v>iew <s>tatus.}
\end{description}
\section{Emacs with LISP-REPL and view buffer}
This is in development.
\section{Tk GUI}
This is in development.
\section{TCP-Socket}
This section can refer fully to section~\ref{sec:cmd_line}. The same commands are available, except that they are transmitted via TCP-Socket as a text-stream.
\section{REST-API}
This is in development.
\section{Library}
To use escad as a library in your common lisp programm, just load \path{package.lisp}.
\section{HTML-client}
This is in development and not fully working yet.
\section{Included expansions}
Those are the expansions which are included/shipped in this escad-package.
\subsection{export\_expansion.lisp}
The following table~\ref{tab:exp-export-expansion} explains the export expansion.
\newcommand{\tabitem}{~~\llap{\textbullet}~~}
\begin{table}[htbp]
\centering
\begin{tabular}{r|p{11cm}}
  \textbf{taxonomy} & \colorbox{black!20}{escad.symbol.\_escad.export.dot} \\
  \hline
  \textbf{in} & - \\
  \hline
  \textbf{out} & - \\
  \hline
  \textbf{attribute} & 1. symbol name \\
                     & 2. [file name] \\
  \hline
  \textbf{description} & exports view to dot (graphviz) \\
  \hline
  \hline
  \textbf{taxonomy} & \colorbox{black!20}{escad.symbol.\_escad.export.pdf} \\
  \hline
  \textbf{in} & - \\
  \hline
  \textbf{out} & - \\
  \hline
  \textbf{attribute} & 1. symbol name \\
                     & 2. [file name] \\
  \hline
  \textbf{description} & exports view to pdf \\
  \hline
  \hline
  \textbf{taxonomy} & \colorbox{black!20}{escad.symbol.\_escad.export.svg} \\
  \hline
  \textbf{in} & - \\
  \hline
  \textbf{out} & - \\
  \hline
  \textbf{attribute} & 1. symbol name \\
                     & 2. [file name] \\
  \hline
  \textbf{description} & exports view to svg. \\
\end{tabular}
\caption{Symbols and relations of export expansion.}
\label{tab:exp-export-expansion}
\end{table}
\chapter{Development}
Everyone is needed and welcome for escad development. If you are a graphical designer, you are got in documenting or you like to program in lisp or you are interested in web-programming - all is required in escad. :-)
\section{Root directory structure}
\begin{itemize}
\item \path{doc} contains like the name says the escad documentation. Currently this is mainly this manual. But in future a manual-page, more examples or online documentation would be great, too.
\item \path{examples} contains examples which can be loaded in escad. But note that currently not all may work yet, they are more a print what a future interface should look like.
\item \path{lib} contains the escad-lisp files.
\item \path{node_modules} contains the code-modules for node. Some functions are written for node (a javascript execution environment, similar the one in your browser). The REST-server is a example that needs node.
\item \path{public} contains the files which are accesible via web by the REST-server.
\item \path{test} is needed for development to test current implementation if it fullfills the requirements/functions needed.
\item \path{ui} contains files needed for the various user interfaces that escad may support now or in future.
\end{itemize}
\section{Programming your own expansion}
Writing escad expansions is not difficult. Go through following steps carefully and you will have a good basis for writing your own. The code in listing~\ref{listing:exp_minimal} shows a minimal expansion and the listing~\ref{listing:exp_tax} shows the entry in a taxonomy file.
\begin{lstlisting}[caption={Minimal expansion code.}, language=Lisp, morekeywords={in-package, use}, label=listing:exp_minimal]
(in-package "COMMON-LISP-USER")
(defpackage :de.markus-herbert-kollmar.escad.expansion.hello_world
  (:use :common-lisp :escad)
  (:export :my-function)
  (:documentation "This is my expansion which does nothing usefull."))
(in-package :de.markus-herbert-kollmar.escad.expansion.hello_world)
(defun my-function (symbol-name-string)
"This function will be executed by calling this expansion.")
\end{lstlisting}
\begin{lstlisting}[caption={Entry in a taxonomy-file.}, language=Lisp, morekeywords={}, label=listing:exp_tax]
(:taxonomy "escad.symbol.hello_world" :doc "[E] Hello world."
:expansion "hello_world_expansion.lisp"
:package :de.markus-herbert-kollmar.escad.hello_world
:function "my_function"
:license "GNU GPL 3")
\end{lstlisting}
Following things you should keep in mind:
\begin{itemize}
\item Choose namespace.
\item Provide documentation within your expansion.
\item Provide at least one function which can be called with the symbol-name-string as first argument und some possible further arguments.
\item Provide a taxonomy file with your expansion declaration or request that your expansion will be taken into the default escad-taxonomy.
\end{itemize}
You are wellcome if you want include your expansion in this escad distribution.

\clearpage % newpage allows to let appear figures after creating new page.
%\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%% BIBLIOGRAPHY
% \bibliographystyle{plain}
\printindex
\bibliographystyle{alpha}
\bibliography{bibliography}

\end{document}
